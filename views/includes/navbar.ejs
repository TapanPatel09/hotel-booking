<style>
    .navbar {
        background-color: white;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        z-index: 1000;
    }

    .search-input {
        border-radius: 25px;
        padding: 0.5rem 1rem;
        width: 300px;
        font-size: 0.9rem;
    }

    .btn-search {
        background-color: #fe4350;
        color: #fff;
        border-radius: 25px;
        padding: 0.5rem 1rem;
        margin-left: -3rem;
        z-index: 1;
        position: relative;
    }

    .btn-search:hover {
        background-color: #e7333e;
    }

    @media (max-width: 768px) {
        .search-input {
            width: 200px;
        }

        .btn-search {
            margin-left: -2rem;
        }
    }
</style>

<nav class="navbar navbar-expand-md border-bottom sticky-top">
    <div class="container-fluid d-flex justify-content-between align-items-center">

        <!-- Left: Logo and links -->
        <div class="d-flex align-items-center">
            <a class="navbar-brand me-3" href="/listings/home">
                <i class="fa-regular fa-compass fa-xl" style="color: #fe4350;"></i>
            </a>
            <a class="nav-link fw-semibold me-3" href="/listings/home">Home</a>
            <a class="nav-link fw-semibold me-3" href="/listings">Explore</a>
        </div>

        <!-- Center: Search Bar -->
        <div class="d-flex justify-content-center align-items-center flex-grow-1">
            <form class="d-flex" role="search" action="/listings/search" method="GET">
                <input
                    class="form-control search-input me-2"
                    type="search"
                    name="q"
                    placeholder="Search destinations"
                    aria-label="Search"
                    required
                />
                <button class="btn btn-search" type="submit">
                    <i class="fa-solid fa-magnifying-glass me-1"></i> Search
                </button>
            </form>
        </div>

        <!-- Right: Auth Links and Add Place -->
        <div class="d-flex align-items-center">
            <a class="nav-link ms-3" href="/listings/new">Add New Place</a>

            <% if (!currUser) { %>
                <a class="nav-link fw-bold ms-3" href="/signup">Sign Up</a>
                <a class="nav-link fw-bold ms-3" href="/login">Log In</a>
            <% } %>

            <% if (currUser) { %>
                <a class="nav-link fw-bold ms-3" href="/logout">Log Out</a>
            <% } %>
        </div>
    </div>
</nav>
